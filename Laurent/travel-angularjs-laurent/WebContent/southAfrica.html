<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mafia K1Fry</title>
<script src="js/angular.min.js"></script>
<script src="js/angular-animate.min.js"></script>
<script src="js/angular-route.min.js"></script>
<link rel="stylesheet" href="./css/bootstrap.min.css">
<style>
.view{position:absolute;
	width:80%;
	background:white;}
.view.ng-enter{opacity:0;}
.view.ng-enter-active{opacity:1;}
.view.ng-leave{opacity:1;}
.view.ng-leave-active{opacity:0;}
</style>
</head>
<body>
	<div data-ng-app="appSA" class="container">
		<section class="row">
			<div data-ng-include="'./header.html'"></div>
			<h1 class="text-center">South Africa !!</h1>
		</section>
		<div data-ng-controller="CtlSa as c" data-ng-view class="row view"></div>
		<div class="row">
			<div data-ng-include="'./footer.html'"></div>
		</div>
	</div>
</body>
<script defer="defer">
angular.module("appSA",["ngRoute","ngAnimate"])
.config(function($routeProvider){
	$routeProvider.when("/index",{controller:"CtlSa",template:function(){
		return "<p>Nous proposons ..."+"<a href='#!/dests'> Destinations</a>";
	}})
	.when("/dests",{controller:"CtlSa",templateUrl:"./southafrica/dests.html",controllerAs:"c"})
	//Etablissement d'un lien entre un paramêtre et une page
	.when("/dests/:id",{controller:"CtlSa",templateUrl:"./southafrica/detail.html",controllerAs:"c"})
	.otherwise({redirectTo:"",template:function(){
		return "<img data-ng-src='http://www.xtreme-photos.com/photos/bibliotheques/547/960_SUPx-stunning-south-africa.jpg' class='col-md-10 col-md-offset-1'>";
		}})
})
.constant("destinations",[{name:"Johannesburg",desc:"",id:1},{name:"Swaziland",desc:"le royaume du Swaziland possède d’innombrables atouts : observation de la faune, activités sportives telles que rafting et expéditions à VTT, une culture vivante et pittoresque avec un grand nombre de cérémonies et de festivités, sans oublier de superbes chemins de randonnée, de fabuleux paysages de montagnes et de plaines, des options d’hébergement variées et un artisanat de qualité.",id:2},{name:"Kruger National Park",desc:"En termes de vie sauvage, le Kruger est l’un des plus beaux parcs nationaux au monde. La diversité, la densité et le nombre d’animaux restent quasiment inégalés et le parc abrite toutes les espèces emblématiques des safaris africains – éléphants, lions, léopards, guépards, rhinocéros, buffles, girafes, hippopotames et zèbres – ainsi que 137 autres mammifères et plus de 500 espèces d’oiseaux.",id:3},{name:"Lesotho",desc:"Pays aux paysages somptueux, d’une grande richesse culturelle, sûr, abordable, et aisément accessible depuis Durban ou Johannesburg, le Lesotho est cependant une destination sous-estimée.",id:4},{name:"Limpopo",desc:"",id:5},{name:"Cap Town",desc:"Le Cap se situe à la pointe sud du continent africain. Elle présente un cadre époustouflant avec des falaises qui plongent à pic dans l’océan Atlantique, des plages merveilleuses, Blaauwberg Beach pour ne citer qu'elle, et le Jardin botanique national de Kirstenbosch à proximité.",id:6}])
.controller("CtlSa",function($routeParams,destinations){
	console.log(destinations)
	this.dests=destinations;
	console.log($routeParams)
	id=$routeParams.id
	this.dest=this.dests[id];
	console.log(id);
	this.imgs={"Johannesburg":"http://www.promosauvage.com/wp-content/uploads/2015/09/voyage-afrique-du-sud.jpg",
			"Swaziland":"http://cabinflooresoterica.com/image.php?pic=/images/swaziland/swaziland-08.jpg",
			"Kruger National Park":"http://www.planetware.com/photos-large/SAF/south-africa-kruger-national-park-3.jpg",
			"Lesotho":"http://unashamedtravel.co.za/wp-content/uploads/2012/07/lesotho.jpg",
			"Limpopo":"http://griplimpopo.co.za/wp-content/uploads/2014/12/image1.jpg",
			"Cap Town":"https://www.viree-malin.fr/wp-content/uploads/2016/02/visiter-cape-town-2-semaines.jpg",
		}
	console.log(this.dest)
	//console.log(this.dest["name"])
	console.log(this.imgs["Johannesburg"])
})
</script>
</html>