<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Réunion</title>
<script src="js/angular.min.js"></script>
<link rel="stylesheet" href="./css/bootstrap.min.css">
</head>
<body>
	<div class="container" data-ng-app="appRn"
		data-ng-init="img1='http://www.tourinvest.ma/wp-content/uploads/2016/07/c4b746b1c6e8f37fcd57e5483d870d.jpg'">
		<div data-ng-include="'./header.html'" class="row">
		<h1 style="position-text: center">Réunion !!</h1>
		<br> <img data-ng-src="{{img1}}" data-ng-if="img1!=''"> <br>
		</div>
		<section data-ng-controller="CtlRn as c" class="row">
			<form action="" class="form-group col-md-6" name="">
				<label for="name"> Votre nom : </label> 
				<input id="name" type="text" data-ng-model="c.name" class="form-control" required></input><br> 
				<label for="email">Votre mail : </label>
				<input id="email" type="email" data-ng-model="c.email" class="form-control" required></input><br>
				<p data-ng-hide="c.info=='undefined'">{{c.info}}</p><br>
				<input type="submit" value="Envoyer" data-ng-click="c.send()">
			</form>
		</section>
		<div data-ng-include="'./footer.html'"></div>
	</div>
</body>
<script defer="defer">
appN=angular.module("appRn",[])
.controller("CtlRn",function($http){
	console.log(this.name)
	this.data="name="+this.name+"&email="+this.email
	this.header={header:{"Content-Type":"application/x-www-form-urlencoded"}}
	this.send=function(){
		this.info="En cours ..."
		//Appel de la servlet "ReunionServlet"
		$http.post("reunion","name="+this.name+"&email="+this.email,{header:{"Content-Type":"application/x-www-form-urlencoded"}})
		.then(function(){
			console.log(this.data);
			this.info="La demande de "+this.name+" est validé, le résumé sera envoyé à l'adresse "+this.email+" !"
		})
	}
	
	
})

</script>
</html>